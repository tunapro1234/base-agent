# Debug CLI Implementation Spec (Go)

_meta:
  version: "0.2.0"
  type: spec

implementation:
  structure:
    - cmd/debug-cli/main.go
    - internal/cli/cli.go
    - internal/client/http_client.go
    - internal/models/models.go
    - internal/repl/repl.go
    - internal/render/render.go

  models:
    pseudocode: |
      package models

      type CLIConfig struct {
          BaseURL      string
          Provider     string
          Model        string
          SystemPrompt string
          Temperature  float64
          Debug        bool
      }

      type ChatMessage struct {
          Role    string
          Content string
      }

      type ExecuteResult struct {
          Success  bool
          Output   string
          TaskID   string
          ToolCalls []map[string]any
      }

      type TaskInfo struct {
          ID          string
          Status      string
          Instruction string
          Output      string
          CreatedAt   string
      }

  client:
    pseudocode: |
      package client

      type HTTPClient struct {
          BaseURL string
          Token   string
          Client  *http.Client
      }

      func (c *HTTPClient) Execute(ctx context.Context, req ExecuteRequest) (ExecuteResult, error) {
          // POST /execute
          return ExecuteResult{}, nil
      }

      func (c *HTTPClient) ListTasks(ctx context.Context, limit int) ([]TaskInfo, error) {
          // GET /tasks?limit=...
          return nil, nil
      }

  repl:
    pseudocode: |
      package repl

      type REPL struct {
          Config  models.CLIConfig
          Client  *client.HTTPClient
          History []models.ChatMessage
      }

      func (r *REPL) Run() {
          // loop: read input, handle slash commands, call API
      }

  entrypoint:
    pseudocode: |
      package main

      func main() {
          // parse flags, build config, start REPL
      }
